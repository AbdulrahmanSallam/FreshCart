"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[691],{9691:(E,_,c)=>{c.r(_),c.d(_,{DetailsComponent:()=>D});var r=c(6814),a=c(756),t=c(4769),l=c(1132),d=c(1120),u=c(9196),p=c(6286),f=c(2425);function m(e,n){if(1&e&&t._UZ(0,"img",18),2&e){const s=t.oxw().$implicit,i=t.oxw(2);t.Q6J("src",s,t.LSH)("alt",i.productInfo.title)}}function g(e,n){1&e&&(t.ynx(0),t.YNc(1,m,1,2,"ng-template",17),t.BQk())}function h(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(s);const o=t.oxw(2);return t.KtG(o.addToWishlist(o.productInfo.id))}),t.qZA()}}function v(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"i",20),t.NdJ("click",function(){t.CHM(s);const o=t.oxw(2);return t.KtG(o.removeFromWishlist(o.productInfo.id))}),t.qZA()}}function x(e,n){if(1&e&&t._UZ(0,"i",21),2&e){const s=n.$implicit,i=t.oxw(2);t.ekj("text-warning",i.productInfo.ratingsAverage>=s)}}const T=function(){return[1,2,3,4,5]};function I(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"owl-carousel-o",5),t.YNc(6,g,2,0,"ng-container",6),t.qZA()()(),t.TgZ(7,"div",7)(8,"div")(9,"div")(10,"div",8)(11,"h1",9),t._uU(12),t.qZA(),t.TgZ(13,"span",10),t.YNc(14,h,1,0,"i",11),t.YNc(15,v,1,0,"i",12),t.qZA()(),t.TgZ(16,"p",13),t._uU(17),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.TgZ(20,"div")(21,"div",8)(22,"span"),t._uU(23),t.ALo(24,"currency"),t.qZA(),t.TgZ(25,"div",14)(26,"div"),t.YNc(27,x,1,2,"i",15),t.qZA(),t.TgZ(28,"span"),t._uU(29),t.qZA()()(),t.TgZ(30,"button",16),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.addToCart(o.productInfo.id))}),t._uU(31,"Add to cart"),t.qZA()()()()()()()}if(2&e){const s=t.oxw();t.xp6(5),t.Q6J("options",s.customOptions),t.xp6(1),t.Q6J("ngForOf",s.productInfo.images),t.xp6(6),t.Oqu(s.productInfo.title),t.xp6(2),t.Q6J("ngIf",!s.inWishlist(s.productInfo.id)),t.xp6(1),t.Q6J("ngIf",s.inWishlist(s.productInfo.id)),t.xp6(2),t.Oqu(s.productInfo.description),t.xp6(2),t.Oqu(s.productInfo.category.name),t.xp6(4),t.Oqu(t.xi3(24,10,s.productInfo.price,"LE ")),t.xp6(4),t.Q6J("ngForOf",t.DdM(13,T)),t.xp6(2),t.Oqu(s.productInfo.ratingsAverage)}}let D=(()=>{class e{constructor(s,i,o,C,O){this._ProductsService=s,this._ActivatedRoute=i,this._WishlistService=o,this._CartService=C,this._ToastrService=O,this.productInfo={},this.productId="",this.wishlistItems=[],this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],items:1,nav:!1}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:s=>{let i=s.get("id");this.productId=i}}),this._ProductsService.getProductDetails(this.productId).subscribe({next:s=>{this.productInfo=s.data,console.log(s)},error:s=>{console.log(s)}})}addToCart(s){this._CartService.addProductToCart(s).subscribe({next:i=>{this._ToastrService.success(i.message)},error:i=>{this._ToastrService.error(i.message)}})}addToWishlist(s){this._WishlistService.addToWishList(s).subscribe({next:i=>{"success"==i.status&&(this.wishlistItems=i.data,this._ToastrService.success("Product added successfully to your wishlist"))},error:i=>{console.log("addcart",i)}})}removeFromWishlist(s){this._WishlistService.removeItem(s).subscribe({next:i=>{"success"==i.status&&(this.wishlistItems=i.data,this._ToastrService.success("Product removed successfully form  your wishlist"))},error:i=>{console.log("addcart",i)}})}inWishlist(s){return this.wishlistItems.includes(s)}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(l.s),t.Y36(d.gz),t.Y36(u.M),t.Y36(p.N),t.Y36(f._W))};static#s=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-details"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","middle-page",4,"ngIf"],[1,"middle-page"],[1,"w-100"],[1,"row","g-4","align-items-center","mx-2"],[1,"col-md-4","col-lg-3","px-5","px-sm-3"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-8","col-lg-9"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h5"],[2,"font-size","30px"],["class","fas cursor-pointer fa-heart",3,"click",4,"ngIf"],["class","fas cursor-pointer fa-heart  text-main",3,"click",4,"ngIf"],[1,"ps-3","mb-3","text-muted"],[1,"d-flex","gap-3","align-items-center"],["class","fas fa-star",3,"text-warning",4,"ngFor","ngForOf"],[1,"main-btn","d-block","w-100","mt-2",3,"click"],["carouselSlide",""],[1,"w-100","d-block",3,"src","alt"],[1,"fas","cursor-pointer","fa-heart",3,"click"],[1,"fas","cursor-pointer","fa-heart","text-main",3,"click"],[1,"fas","fa-star"]],template:function(i,o){1&i&&t.YNc(0,I,32,14,"section",0),2&i&&t.Q6J("ngIf",o.productInfo.id)},dependencies:[r.ez,r.sg,r.O5,r.H9,a.bB,a.Fy,a.Mp]})}return e})()}}]);