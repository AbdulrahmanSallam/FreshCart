"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[932],{6666:(I,_,s)=>{s.r(_),s.d(_,{LoginComponent:()=>E});var m=s(6814),o=s(95),u=s(1120),e=s(4769),p=s(9410);function c(n,l){1&n&&(e.TgZ(0,"p",17),e._UZ(1,"i",18),e._uU(2," Email is required"),e.qZA())}function d(n,l){1&n&&(e.TgZ(0,"p",17),e._UZ(1,"i",18),e._uU(2," Invlaid email"),e.qZA())}function f(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,c,3,0,"p",16),e.YNc(2,d,3,0,"p",16),e.qZA()),2&n){const i=e.oxw();let r,t;e.xp6(1),e.Q6J("ngIf",null==(r=i.loginForm.get("email"))?null:r.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("email"))?null:t.getError("email"))}}function h(n,l){1&n&&(e.TgZ(0,"p",17),e._UZ(1,"i",18),e._uU(2," Password is required "),e.qZA())}function Z(n,l){1&n&&(e.TgZ(0,"p",17),e._UZ(1,"i",18),e._uU(2," Invalid Password"),e.qZA())}function v(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,h,3,0,"p",16),e.YNc(2,Z,3,0,"p",16),e.qZA()),2&n){const i=e.oxw();let r,t;e.xp6(1),e.Q6J("ngIf",null==(r=i.loginForm.get("password"))?null:r.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("password"))?null:t.getError("pattern"))}}function T(n,l){if(1&n&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.msgErr)}}function x(n,l){1&n&&e._UZ(0,"i",20)}let E=(()=>{class n{constructor(i,r){this._AuthService=i,this._Router=r,this.isloading=!1,this.msgErr="",this.loginForm=new o.cw({email:new o.NI("",[o.kI.required,o.kI.email]),password:new o.NI("",[o.kI.required,o.kI.pattern(/^[A-Z][\w]{6,9}$/)])})}checkRepass(i){const r=i.get("password"),t=i.get("rePassword");""==t?.value?t?.setErrors({required:!0}):t?.value!=r?.value&&t?.setErrors({misMatch:!0})}handleLogin(){this.isloading=!0,this.loginForm.valid?this._AuthService.signin(this.loginForm.value).subscribe({next:i=>{"success"==i.message&&(this.isloading=!1,localStorage.setItem("token",i.token),this._Router.navigate(["/home"]))},error:i=>{this.isloading=!1,this.msgErr=i.error.message}}):(this.isloading=!1,this.loginForm.markAllAsTouched(),this.msgErr="Incorrect email or password")}goRegister(){this._Router.navigate(["/register"])}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(p.e),e.Y36(u.F0))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:27,vars:6,consts:[[1,"center","bg-main-light"],[1,"head"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","email",1,"text-main"],["id","email","type","email","formControlName","email",1,"form-control"],[4,"ngIf"],["for","password",1,"text-main"],["id","password","type","password","formControlName","password",1,"form-control"],["routerLink","/forgetpassword",1,"text-dark-emphasis","cursor-pointer","text-decoration-underline"],[1,"my-3","d-flex","justify-content-between","align-items-center"],["class","text-danger flex-grow-1",4,"ngIf"],[1,"main-btn","d-block","ms-auto",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"text-center"],[1,"text-danger","cursor-pointer",3,"click"],["class","text-danger small",4,"ngIf"],[1,"text-danger","small"],[1,"fas","fa-warning"],[1,"text-danger","flex-grow-1"],[1,"fas","fa-spinner","fa-spin"]],template:function(r,t){if(1&r&&(e.TgZ(0,"section")(1,"div",0)(2,"h1",1),e._uU(3,"login"),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return t.handleLogin()}),e.TgZ(5,"div",3)(6,"label",4),e._uU(7,"Email :"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,f,3,2,"div",6),e.qZA(),e.TgZ(10,"div",3)(11,"label",7),e._uU(12,"Password :"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,v,3,2,"div",6),e.TgZ(15,"p",9),e._uU(16,"Forget Password?"),e.qZA()(),e.TgZ(17,"div",10),e.YNc(18,T,2,1,"p",11),e.TgZ(19,"button",12),e.YNc(20,x,1,0,"i",13),e._uU(21," Login"),e.qZA()()(),e.TgZ(22,"div")(23,"p",14),e._uU(24,"Don't have an account? "),e.TgZ(25,"span",15),e.NdJ("click",function(){return t.goRegister()}),e._uU(26,"Register"),e.qZA()()()()()),2&r){let a,g;e.xp6(4),e.Q6J("formGroup",t.loginForm),e.xp6(5),e.Q6J("ngIf",(null==(a=t.loginForm.get("email"))?null:a.errors)&&(null==(a=t.loginForm.get("email"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=t.loginForm.get("password"))?null:g.errors)&&(null==(g=t.loginForm.get("password"))?null:g.touched)),e.xp6(4),e.Q6J("ngIf",t.msgErr),e.xp6(1),e.Q6J("disabled",t.loginForm.invalid),e.xp6(1),e.Q6J("ngIf",t.isloading)}},dependencies:[m.ez,m.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.rH]})}return n})()}}]);