"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[560],{6560:(b,u,a)=>{a.r(u),a.d(u,{RegisterComponent:()=>Q});var c=a(6814),o=a(95),e=a(4769),d=a(9410),f=a(1120);function Z(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," Name is required"),e.qZA())}function h(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," at least 3 characters"),e.qZA())}function v(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," at most 20 characters"),e.qZA())}function T(t,s){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,Z,3,0,"p",17),e.YNc(2,h,3,0,"p",17),e.YNc(3,v,3,0,"p",17),e.qZA()),2&t){const n=e.oxw();let i,r,l;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("name"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(l=n.registerForm.get("name"))?null:l.getError("maxlength"))}}function x(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," Email is required"),e.qZA())}function U(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," Invlaid email"),e.qZA())}function I(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,x,3,0,"p",17),e.YNc(2,U,3,0,"p",17),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("email"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("email"))?null:r.getError("email"))}}function A(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," Password is required "),e.qZA())}function q(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," Start with capital letter, (A-Z or a-z) and numbers(0-9), 6 to 10 Characters "),e.qZA())}function w(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,A,3,0,"p",17),e.YNc(2,q,3,0,"p",17),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("password"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("password"))?null:r.getError("pattern"))}}function R(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," Repassword is required"),e.qZA())}function C(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," This value not equal to Password"),e.qZA())}function E(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,R,3,0,"p",17),e.YNc(2,C,3,0,"p",17),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("rePassword"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("rePassword"))?null:r.getError("misMatch"))}}function N(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," phone is required"),e.qZA())}function F(t,s){1&t&&(e.TgZ(0,"p",23),e._UZ(1,"i",24),e._uU(2," Invalid phone number"),e.qZA())}function P(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,N,3,0,"p",17),e.YNc(2,F,3,0,"p",17),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("phone"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("phone"))?null:r.getError("pattern"))}}function J(t,s){if(1&t&&(e.TgZ(0,"p",23),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.msgErr)}}function Y(t,s){1&t&&e._UZ(0,"i",25)}let Q=(()=>{class t{constructor(n,i){this._AuthService=n,this._Router=i,this.isloading=!1,this.msgErr="",this.registerForm=new o.cw({name:new o.NI("",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(12)]),email:new o.NI("",[o.kI.required,o.kI.email]),password:new o.NI("",[o.kI.required,o.kI.pattern(/^[A-Z][\w]{6,9}$/)]),rePassword:new o.NI(""),phone:new o.NI("",[o.kI.required,o.kI.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.checkRepass]})}checkRepass(n){const i=n.get("password"),r=n.get("rePassword");""==r?.value?r?.setErrors({required:!0}):r?.value!=i?.value&&r?.setErrors({misMatch:!0})}handleRegisteration(){this.isloading=!0,this.registerForm.valid?this._AuthService.signup(this.registerForm.value).subscribe({next:n=>{"success"==n.message&&(this.isloading=!1,this._Router.navigate(["/login"]))},error:n=>{this.isloading=!1,console.log("register",n),this.msgErr=n.error.message}}):(this.isloading=!1,this.registerForm.markAllAsTouched())}goLoginPage(){this._Router.navigate(["/login"])}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(d.e),e.Y36(f.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:40,vars:9,consts:[[1,"center","bg-main-light"],[1,"head"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name",1,"text-main"],["id","name","type","text","formControlName","name",1,"form-control"],["class","t-2",4,"ngIf"],["for","email",1,"text-main"],["id","email","type","email","formControlName","email",1,"form-control"],[4,"ngIf"],["for","password",1,"text-main"],["id","password","type","password","formControlName","password",1,"form-control"],["for","rePassword",1,"text-main"],["id","rePassword","type","password","formControlName","rePassword",1,"form-control"],["for","phone",1,"text-main"],["id","phone","type","tel","formControlName","phone",1,"form-control"],[1,"my-3","d-flex","justify-content-between","align-items-center"],["class","text-danger small",4,"ngIf"],[1,"main-btn","d-block","ms-auto",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"text-center"],[1,"text-danger","cursor-pointer",3,"click"],[1,"t-2"],[1,"text-danger","small"],[1,"fas","fa-warning"],[1,"fas","fa-spinner","fa-spin"]],template:function(i,r){if(1&i&&(e.TgZ(0,"section")(1,"div",0)(2,"h1",1),e._uU(3,"register now"),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return r.handleRegisteration()}),e.TgZ(5,"div",3)(6,"label",4),e._uU(7,"Name :"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,T,4,3,"div",6),e.qZA(),e.TgZ(10,"div",3)(11,"label",7),e._uU(12,"Email :"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,I,3,2,"div",9),e.qZA(),e.TgZ(15,"div",3)(16,"label",10),e._uU(17,"Password :"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,w,3,2,"div",9),e.qZA(),e.TgZ(20,"div",3)(21,"label",12),e._uU(22,"Repassword :"),e.qZA(),e._UZ(23,"input",13),e.YNc(24,E,3,2,"div",9),e.qZA(),e.TgZ(25,"div")(26,"label",14),e._uU(27,"Phone :"),e.qZA(),e._UZ(28,"input",15),e.YNc(29,P,3,2,"div",9),e.qZA(),e.TgZ(30,"div",16),e.YNc(31,J,2,1,"p",17),e.TgZ(32,"button",18),e.YNc(33,Y,1,0,"i",19),e._uU(34," Register now"),e.qZA()()(),e.TgZ(35,"div")(36,"p",20),e._uU(37,"Already have an account? "),e.TgZ(38,"span",21),e.NdJ("click",function(){return r.goLoginPage()}),e._uU(39,"Login"),e.qZA()()()()()),2&i){let l,_,g,p,m;e.xp6(4),e.Q6J("formGroup",r.registerForm),e.xp6(5),e.Q6J("ngIf",(null==(l=r.registerForm.get("name"))?null:l.errors)&&(null==(l=r.registerForm.get("name"))?null:l.touched)),e.xp6(5),e.Q6J("ngIf",(null==(_=r.registerForm.get("email"))?null:_.errors)&&(null==(_=r.registerForm.get("email"))?null:_.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=r.registerForm.get("password"))?null:g.errors)&&(null==(g=r.registerForm.get("password"))?null:g.touched)),e.xp6(5),e.Q6J("ngIf",(null==(p=r.registerForm.get("rePassword"))?null:p.errors)&&(null==(p=r.registerForm.get("rePassword"))?null:p.touched)),e.xp6(5),e.Q6J("ngIf",(null==(m=r.registerForm.get("phone"))?null:m.errors)&&(null==(m=r.registerForm.get("phone"))?null:m.touched)),e.xp6(2),e.Q6J("ngIf",r.msgErr),e.xp6(1),e.Q6J("disabled",r.registerForm.invalid),e.xp6(1),e.Q6J("ngIf",r.isloading)}},dependencies:[c.ez,c.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return t})()}}]);